# Bridge Builder Design

## Overview
The Bridge Builder is a system for automatically generating "Dream Bridge" comparison documents (like `DMI_ARI_HECTOR.MD`) from the structured analysis of two separate corpora.

## Inputs
The system requires two completed **Corpus Analysis JSON** files (generated by `skills/CORPUS_ANALYSIS.MD`):
1.  **Corpus A Analysis**: `mystic_corpus/<corpus_a>/analysis/<corpus_a>_analysis.json`
2.  **Corpus B Analysis**: `mystic_corpus/<corpus_b>/analysis/<corpus_b>_analysis.json`

## Process Flow

### 1. Metaphor Alignment
The system identifies common metaphors between the two corpora.
*   **Method**: Fuzzy matching of "keywords" in `major_recurring_metaphors`.
*   **Manual Override**: Allow a configuration file to map disparate terms (e.g., "Water" in A maps to "Fluidity" in B).

### 2. Divergence Analysis (LLM Task)
For each aligned metaphor, the system uses an LLM (Martian Persona) to generate the **"Crossing the Dream Bridge"** section.
*   **Prompt**:
    > You are a Martian Interviewer.
    > Compare the following two descriptions of [Metaphor]:
    > **Corpus A**: [Description + Recapitulation + Bridge A]
    > **Corpus B**: [Description + Recapitulation + Bridge B]
    >
    > Identify the **divergence** in stance or function. How does the *feeling* differ?
    > Synthesize the difference in a short paragraph.

### 3. Structural Synthesis
The systems compiles the **"Overarching Structural Comparison"** section by extracting data directly from `structural_dimensions` in the JSONs.
*   **Field Mapping**:
    *   `Rhetorical Mode` -> A vs B
    *   `Emotional Register` -> A vs B
    *   `Direction of Attention` -> A vs B
    *   `Core Verb` -> A vs B

### 4. Final Summary Generation (LLM Task)
The system generates the **"Summary: The Dream Bridge"** section.
*   **Prompt**:
    > Based on the divergences identified above, write a synthesis of how [Author A] and [Author B] relate.
    > What is the fundamental "Base Camp" for each?
    > Where do they meet?

## Output Artifact
The system generates a Markdown file following the `skills/ARI_DREAM_BRIDGE_TEMPLATE.MD` format.

**Storage Location**:
*   **Default**: `bridges/<corpus_a>/DMI_<CORPUS_A>_<CORPUS_B>.MD`
*   **Naming Convention**: `DMI_[CORPUS_A]_[CORPUS_B].MD`

## Automation Tool (`tools/build_bridge.py`)
A Python script to orchestrate this process.

**Command**:
```bash
python tools/build_bridge.py --corpus-a ari --corpus-b hector --output bridges/ari/DMI_ARI_HECTOR.MD
```

**Requirements**:
*   Access to the `mystic_corpus` directory.
*   Access to an LLM API (for the divergence and summary generation).

## Bridge Types & Examples

The system aims to support various types of structural and semantic bridging. Below are specific examples of the types of bridges the system is designed to construct:

### 1. Entity Bridging
Mapping specific entities or beings between mandalas based on their attributes and roles rather than just names.
> **Example**: "Please describe Ekajati in sasha's mandala using their metaphors, then find the most similar being in my_mandala (eigenhector) and bridge the two."

### 2. Metaphor Extraction & Projection
Connecting entities to sensory language and projecting concepts across domains.
> **Example**: "Extract the different kinds of beings in eigenhector's mandala and describe them in terms of their sense gate metaphors."
> **Concept Projection**: "How would the concept of 'Rigpa' (from a Dzogchen mandala) be expressed using the vocabulary of a 'Cyberpunk' mandala?"

### 3. Process/Dynamic Mapping
Identifying and comparing sequences of events, transformations, or dynamic processes.
> **Example**: "Find a process in eliade's mandala that resembles the 'descent into the underworld' found in sasha's mandala."

### 4. Vibe/Atmosphere Search
Matching passages based on sentiment, tone, and "feeling" (vibe), allowing for bridges built on shared emotional registers.
> **Example**: "Find passages in paul_litvak's corpus that have the same 'suffocating bureaucratic dread' as this specific paragraph from my journal."

### 5. Relationship Mapping
Understanding and comparing the web of relationships between beings or concepts to find structural isomorphism.
> **Example**: "What are the relationships between the different beings in my mandala?"
